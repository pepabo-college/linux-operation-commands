# iostat
## xオプション
* 拡張表示を有効にする

## カラムの意味
### rrqm/s
* マージされた読込ＩＯ要求（秒間）。ＯＳは可能な限り、複数のＩＯを一回のＩＯにまとめて性能の向上を図る。この数値が大きいほど、効率よくディスクの性能を引き出せていることになる。

### wrqm/s
* マージされた読込ＩＯ要求（秒間）。ＯＳは可能な限り、複数のＩＯを一回のＩＯにまとめて性能の向上を図る。この数値が大きいほど、効率よくディスクの性能を引き出せていることになる。

### r/s
* 毎秒何回読み出しを行っているかを表しています。r/s と w/s を足し合わせた値が IOPS になる。
* の数値が大きいほど、多くの要求をこなしているということ。実運用においてはこの値は低く保つよう努力されるべき。
* IOPSは，ディスクが1秒当たりに処理できるI/Oアクセスの数である。 IOPSが高ければ高いほど，高性能なディスクと言える。

### w/s
* 毎秒何回書き込みを行っているかを表している。
* 書込ＩＯ要求（秒間）。実際にディスクに発行された書き込み要求の回数。この数値が大きいほど、多くの要求をこなしているということ。実運用においてはこの値は低く保つよう努力されるべき。

### rkB/s
* 毎秒何 KB 読み出しを行っているかを表している。r/s と w/s が IOPS を表していたのに対し、こちらは I/O のスループットを表している。
* I/Oスループットは、、秒間のデータ転送速度（MB/s）
* リクエストが完了した際に呼ばれるblk_end_bidi_request()の延長でカウント(blk_account_io_completion()) している。

### wkB/s
* 毎秒何 KB 書き込みを行っているかを表している。
* リクエストが完了した際に呼ばれるblk_end_bidi_request()の延長でカウント(blk_account_io_completion()) している。

### avgrq-sz
* 発行が完了したリクエストの平均サイズ。
* 平均 I/O サイズ

### avgqu-sz
* 平均リクエストキューの長さの指標となる数値。正確にリクエストキューの長さというわけではなく、IOリクエストが作成されてから、発行が完了されるまでの総待ち時間値(time_in_queue)の平均。

### await
* レスポンスタイム。I/O を実施していない待ち時間を含む。
* 要求を発行する平均時間間隔(待ち時間)。この値が小さくなるほど、頻繁にディスクに対して要求が発行されている事になる。
* リード・ライトリクエストが作成(get_request())されてから、リクエスト完了(blk_finish_request())までにかかる時間の平均値。

### r_await
* awaitのリード版

### w_await
* awaitのライト版

### svctm
* サービスタイム。1回のI/Oに要する時間 (ミリ秒)。)
* svctm = 1000(ミリ秒) / IOPS)
* 要求に対する平均レスポンスタイム。この時間は短ければ短い方が良いと同時に、値が安定していることが非常に重要である。
* 一回のIO発行にかかる時間(リクエストがキューに積まれている時間を含まない)の平均値。awaitとは異なり、IOスケジューラでリクエストがqueueに積まれている時間は含まれない。この数値によりデバイスがIOを発行してから完了にかかるまでの時間がわかる。)

### %util
* 使用率（ビジー率）
* %util = IOPS * svctm / 1000 (ミリ秒))
* IO発行にかかる時間(リクエストがキューに積まれている時間を含まない)の、インターバルに占める割合(%)

## 参考文献
* [iostat の見方](http://d.hatena.ne.jp/yohei-a/20110711/1310396665)
* [IOSTATの見方](http://wktm.jp/archives/901)
* [iostat -x の出力を Linux Kernel ソースコードから理解する](http://blog.etsukata.com/2013/10/iostat-x-linux-kernel.html)
* [Linux の iostat の出力結果を銀行のATMに例えて説明してみる](http://d.hatena.ne.jp/yohei-a/20111203/1322909311)

